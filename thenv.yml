---
- hosts: all
  pre_tasks:
  - group_by: key=os_{{ ansible_distribution }}
  - name: install
    package: name={{item}} state=latest
    become: true
    with_items:
    - "{{ tree }}"
    - "{{ ag }}"
    - "{{ mc }}"
    - "{{ links }}"
    - "{{ jq }}"
    - "{{ asciinema }}"
    - "{{ bind_utils }}"

  roles:
  - tmux
  - vim
  - git
  - bash
  - cpp
  - debug

